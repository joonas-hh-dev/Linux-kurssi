# h6 Salataampa

a)

Ensin ajoin tuttuun tapaan ```sudo apt update```-komennon. Sitten kokeilin sertifikaatin hankkimista certbotin dry run -komennolla. Se ei toiminut, koska certbotia ei ollut asennettu. Siispä asensin sen.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/5af0f281-86ad-44d7-b41e-9108c8a9db62" />

Uusi yritys. Tällä kertaa sain viestin "--dry-run currently only works with the 'certonly' or 'renew' subcommands ('run')". Tulkitsin virheen tarkoittavan sitä, että dry run komentoa voi käyttää vain yhdessä "certonly" tai "renew" -alikomentojen kanssa, joista ensimmäinen liittyy sertifikaatin hankinnan testaamiseen ja toinen sen uusimiseen. Koska olin hankkimassa uutta sertifikaattia, valitsin ensimmäisen.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/3a674dfd-8677-4a20-add9-bdd298806cac" />

Minun piti vahvistaa, mille sivustoille halusin SSL-sertifikaatin. En kirjoittanut mitään, vaan painoin vain enteriä. Sain ilmoituksen, että dry run oli suoritettu onnistuneesti.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/e0227486-9f09-49b8-b3e8-a93a2e37d604" />

Seuraavaksi tein saman oikealla sertifikaatilla.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/50700c51-5715-4221-9dc0-a064bb699360" />

<img width="640" alt="image" src="https://github.com/user-attachments/assets/999f1dc5-2b84-4b18-bcfb-705ba9e9d1e3" />

Sivuni eivät kuitenkaan auenneet selaimessa. Luettuani aikani nettikeskusteluita tarkistin palomuurin asetukset. Porttia 443 ei ollut avattu, joten avasin sen komennolla ```sudo ufw allow 443/tcp```.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/d80f2b25-6748-4faf-8c52-d78bb86824d1" />

Ja näin sivut alkoivat toimia.

<img width="640" alt="image" src="https://github.com/user-attachments/assets/07ba4c19-e681-4db5-aa64-3ca8970a0699" />

